{% extends "base.html" %}

{% block content %}
<div class="card">
    <div class="card-header">
        <div class="card-title">
            <a href="/" style="color: inherit; text-decoration: none; margin-right: 10px;">←</a>
            Configure Secrets
        </div>
    </div>

    <form method="POST" action="{{ url_for('save_secrets_config') }}">
        <div class="form-group">
            <h3>Login Credentials</h3>
            <div class="alert"
                style="background: rgba(239, 68, 68, 0.2); color: #f87171; padding: 10px; border-radius: 8px; margin-bottom: 15px;">
                ⚠️ Info: This info is used by bot for logging into your LinkedIn.
            </div>

            <label class="form-label" for="email">LinkedIn email</label>
            <input type="email" id="email" name="email" class="form-control mb-4" value="{{ config.get('email', '') }}"
                required>

            <label class="form-label" for="password">LinkedIn password</label>
            <input type="password" id="password" name="password" class="form-control mb-4"
                value="{{ config.get('password', '') }}" required>
        </div>

        <div class="form-group">
            <h3>Personal information (used for filling forms)</h3>

            {% set info = config.get('personalInfo', {}) %}

            <label class="form-label">Pronouns</label>
            <input type="text" name="info_Pronouns" class="form-control mb-4" value="{{ info.get('Pronouns', '') }}">

            <div style="display: flex; gap: 16px;">
                <div style="flex: 1;">
                    <label class="form-label">First Name</label>
                    <input type="text" name="info_First Name" class="form-control mb-4"
                        value="{{ info.get('First Name', '') }}">
                </div>
                <div style="flex: 1;">
                    <label class="form-label">Last Name</label>
                    <input type="text" name="info_Last Name" class="form-control mb-4"
                        value="{{ info.get('Last Name', '') }}">
                </div>
            </div>

            <label class="form-label">Phone country Code (must match LinkedIn acceptable format)</label>
            <input type="text" name="info_Phone Country Code" class="form-control mb-4" placeholder="e.g. Canada (+1)"
                value="{{ info.get('Phone Country Code', '') }}">

            <label class="form-label">Mobile phone number</label>
            <input type="text" name="info_Mobile Phone Number" class="form-control mb-4"
                placeholder="Enter without country code and leading zeros"
                value="{{ info.get('Mobile Phone Number', '') }}">

            <label class="form-label">Street Address</label>
            <input type="text" name="info_Street address" class="form-control mb-4"
                value="{{ info.get('Street address', '') }}">

            <div style="display: flex; gap: 16px;">
                <div style="flex: 1;">
                    <label class="form-label">City</label>
                    <input type="text" name="info_City" class="form-control mb-4" value="{{ info.get('City', '') }}">
                </div>
                <div style="flex: 1;">
                    <label class="form-label">State</label>
                    <input type="text" name="info_State" class="form-control mb-4" value="{{ info.get('State', '') }}">
                </div>
                <div style="flex: 1;">
                    <label class="form-label">Zip / Postal Code</label>
                    <input type="text" name="info_Zip" class="form-control mb-4" value="{{ info.get('Zip', '') }}">
                </div>
                <div style="flex: 1;">
                    <label class="form-label">Country</label>
                    <input type="text" name="info_Country" class="form-control mb-4"
                        value="{{ info.get('Country', '') }}">
                </div>
            </div>

            <label class="form-label">LinkedIn profile URL</label>
            <input type="text" name="info_Linkedin" class="form-control mb-4" value="{{ info.get('Linkedin', '') }}"
                placeholder="usually https://www.linkedin.com/in/[yourURL/)">

            <label class="form-label">Personal website or portfolio (if any)</label>
            <input type="text" name="info_Website" class="form-control mb-4" value="{{ info.get('Website', '') }}"
                placeholder="e.g. https://github.com/voidbydefault">

        </div>

        <div style="display: flex; gap: 16px; margin-top: 20px;">
            <a href="/" class="btn btn-secondary" style="flex: 1; justify-content: center;">Cancel</a>
            <button type="submit" class="btn btn-primary" style="flex: 1; justify-content: center;">Save
                Credentials</button>
        </div>
    </form>
</div>
{% endblock %}